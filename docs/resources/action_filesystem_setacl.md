---
page_title: "truenas_action_filesystem_setacl Resource - terraform-provider-truenas"
subcategory: "Actions"
description: |-
  Set ACL of a given path. Takes the following parameters: `path` full path to directory or file.  `dacl` ACL entries. Formatting depends on the underlying `acltype`. NFS4ACL requires NFSv4 entries. POSIX1e requires POSIX1e entries.  `uid` the desired UID of the file user. If set to None (the default), then user is not changed.  `user` the desired username for the file user. If set to None, then user is not changed.  Note about interaction between `uid` and `user`: One and only one of these parameters should be set, and _only_ if the API consumer wishes to change the owner on the file / directory.  `gid` the desired GID of the file group. If set to None (the default), then group is not changed.  `group` the desired groupname for the file group. If set to None (the default), then group is not changed.  Note about interaction between `gid` and `group`: One and only one of these parameters should be set, and _only_ if the API consumer wishes to change the owner on the file / directory.  WARNING: if user, uid, group, or gid is specified in a recursive operation then the owning user, group, or both for _all_ files will be changed.  `recursive` apply the ACL recursively  `traverse` traverse filestem boundaries (ZFS datasets)  `strip` convert ACL to trivial. ACL is trivial if it can be expressed as a file mode without losing any access rules.  `canonicalize` reorder ACL entries so that they are in concanical form as described in the Microsoft documentation MS-DTYP 2.4.5 (ACL). This only applies to NFSv4 ACLs.  The following notes about ACL entries are necessarily terse. If more detail is requried please consult relevant TrueNAS documentation.  Notes about NFSv4 ACL entry fields:  `tag` refers to the type of principal to whom the ACL entries applies. USER and GROUP have conventional meanings. `owner@` refers to the owning user of the file, `group@` refers to the owning group of the file, and `everyone@` refers to ALL users (including the owning user and group)..  `id` refers to the numeric user id or group id associatiated with USER or GROUP entries.  `who` a user or group name may be specified in lieu of numeric ID for USER or GROUP entries  `type` may be ALLOW or DENY. Deny entries take precedence over allow when the ACL is evaluated.  `perms` permissions allowed or denied by the entry. May be set as a simlified BASIC type or more complex type detailing specific permissions.  `flags` inheritance flags determine how this entry will be presented (if at all) on newly-created files or directories within the specified path. Only valid for directories.  Notes about posix1e ACL entry fields:  `default` the ACL entry is in the posix default ACL (will be copied to new files and directories) created within the directory where it is set. These are _NOT_ evaluated when determining access for the file on which they're set. If default is false then the entry applies to the posix access ACL, which is used to determine access to the directory, but is not inherited on new files / directories.  `tag` the type of principal to whom the ACL entry apples. USER and GROUP have conventional meanings USER_OBJ refers to the owning user of the file and is also denoted by "user" in conventional POSIX UGO permissions. GROUP_OBJ refers to the owning group of the file and is denoted by "group" in the same. OTHER refers to POSIX other, which applies to all users and groups who are not USER_OBJ or GROUP_OBJ. MASK sets maximum permissions granted to all USER and GROUP entries. A valid POSIX1 ACL entry contains precisely one USER_OBJ, GROUP_OBJ, OTHER, and MASK entry for the default and access list.  `id` refers to the numeric user id or group id associatiated with USER or GROUP entries.  `who` a user or group name may be specified in lieu of numeric ID for USER or GROUP entries  `perms` - object containing posix permissions.
---

# truenas_action_filesystem_setacl (Resource)

Set ACL of a given path. Takes the following parameters: `path` full path to directory or file.  `dacl` ACL entries. Formatting depends on the underlying `acltype`. NFS4ACL requires NFSv4 entries. POSIX1e requires POSIX1e entries.  `uid` the desired UID of the file user. If set to None (the default), then user is not changed.  `user` the desired username for the file user. If set to None, then user is not changed.  Note about interaction between `uid` and `user`: One and only one of these parameters should be set, and _only_ if the API consumer wishes to change the owner on the file / directory.  `gid` the desired GID of the file group. If set to None (the default), then group is not changed.  `group` the desired groupname for the file group. If set to None (the default), then group is not changed.  Note about interaction between `gid` and `group`: One and only one of these parameters should be set, and _only_ if the API consumer wishes to change the owner on the file / directory.  WARNING: if user, uid, group, or gid is specified in a recursive operation then the owning user, group, or both for _all_ files will be changed.  `recursive` apply the ACL recursively  `traverse` traverse filestem boundaries (ZFS datasets)  `strip` convert ACL to trivial. ACL is trivial if it can be expressed as a file mode without losing any access rules.  `canonicalize` reorder ACL entries so that they are in concanical form as described in the Microsoft documentation MS-DTYP 2.4.5 (ACL). This only applies to NFSv4 ACLs.  The following notes about ACL entries are necessarily terse. If more detail is requried please consult relevant TrueNAS documentation.  Notes about NFSv4 ACL entry fields:  `tag` refers to the type of principal to whom the ACL entries applies. USER and GROUP have conventional meanings. `owner@` refers to the owning user of the file, `group@` refers to the owning group of the file, and `everyone@` refers to ALL users (including the owning user and group)..  `id` refers to the numeric user id or group id associatiated with USER or GROUP entries.  `who` a user or group name may be specified in lieu of numeric ID for USER or GROUP entries  `type` may be ALLOW or DENY. Deny entries take precedence over allow when the ACL is evaluated.  `perms` permissions allowed or denied by the entry. May be set as a simlified BASIC type or more complex type detailing specific permissions.  `flags` inheritance flags determine how this entry will be presented (if at all) on newly-created files or directories within the specified path. Only valid for directories.  Notes about posix1e ACL entry fields:  `default` the ACL entry is in the posix default ACL (will be copied to new files and directories) created within the directory where it is set. These are _NOT_ evaluated when determining access for the file on which they're set. If default is false then the entry applies to the posix access ACL, which is used to determine access to the directory, but is not inherited on new files / directories.  `tag` the type of principal to whom the ACL entry apples. USER and GROUP have conventional meanings USER_OBJ refers to the owning user of the file and is also denoted by "user" in conventional POSIX UGO permissions. GROUP_OBJ refers to the owning group of the file and is denoted by "group" in the same. OTHER refers to POSIX other, which applies to all users and groups who are not USER_OBJ or GROUP_OBJ. MASK sets maximum permissions granted to all USER and GROUP entries. A valid POSIX1 ACL entry contains precisely one USER_OBJ, GROUP_OBJ, OTHER, and MASK entry for the default and access list.  `id` refers to the numeric user id or group id associatiated with USER or GROUP entries.  `who` a user or group name may be specified in lieu of numeric ID for USER or GROUP entries  `perms` - object containing posix permissions.

This is an action resource that executes the `filesystem.setacl` operation. Actions are triggered on resource creation and cannot be undone on destroy.

## Example Usage

```terraform
resource "truenas_action_filesystem_setacl" "example" {
  filesystem_acl = "value"
}
```

## Schema

### Input Parameters

- `filesystem_acl` (String, Required) FilesystemSetaclArgs parameters.

### Computed Outputs

- `action_id` (String) Unique identifier for this action execution
- `job_id` (Int64) Background job ID (if applicable)
- `state` (String) Job state: SUCCESS, FAILED, or RUNNING
- `progress` (Float64) Job progress percentage (0-100)
- `result` (String) Action result data
- `error` (String) Error message if action failed

## Notes

- Actions execute immediately when the resource is created
- Background jobs are monitored until completion
- Progress updates are logged during execution
- The resource cannot be updated - changes force recreation
- Destroying the resource does not undo the action
